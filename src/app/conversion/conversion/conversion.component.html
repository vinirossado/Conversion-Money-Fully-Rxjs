<div class="container-fluid vh-100 bg-light">
    <div class="row vh-100 justify-content-center align-items-center">
        <div class="col-auto">
            <div class="card mx-auto">
                <div class="card-body">
                    <div class="row pb-2">
                        <div class="col-12 col-md-auto d-flex justify-content-center align-items-center">
                            <img class="img-fluid" height="300" width="300" src="/assets/icons/wallet.svg">
                        </div>
                        <div class="col py-3 pe-md-4 text-center">
                            <h4>Money conversion</h4>
                            <form [formGroup]="conversionForm">
                                <ng-container class="mb-1" [ngSwitch]="loading$ | async">
                                    <div class="spinner-grow text-primary m-1" *ngSwitchCase="true" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                    <div class="py-2" *ngSwitchDefault>
                                        <ng-container *ngIf="rate$ | async as rate else initial ">
                                            <span class="fw-bold fs-5"
                                                [ngClass]="trendDirectionUP  == true ? 'text-primary': 'text-danger'">
                                                {{rate | number:'1.0-2'}}
                                                <i [ngClass]="trendDirectionUP  == true ? 'mdi-trending-up': 'mdi-trending-down'"
                                                    class="img-fluid mdi"></i>
                                            </span>
                                        </ng-container>

                                        <ng-template #initial>
                                            <img class="img-fluid mb-2" height="24"
                                                src="/assets/icons/swap-vertical-bold.svg">
                                        </ng-template>
                                    </div>
                                </ng-container>
                                <div class="input-group place-content-center">
                                    <div class="form-floating">
                                        <input type="text" currencyMask inputmode="decimal" placeholder="100"
                                            formControlName="sentAmount" class="form-control" id="sentId">
                                        <label for="sentId">You send exactly</label>
                                    </div>

                                    <span class="input-group-text bg-primary text-white">
                                        <img class="pe-2" height="24px" width="41px" src="../assets/icons/eur.webp">
                                        <span id="inputGroup-sizing-lg">EUR</span>
                                    </span>
                                </div>
                                <span
                                    *ngIf="conversionForm.controls['sentAmount'].dirty && conversionForm.controls['sentAmount'].invalid"
                                    class="text-danger">Your input is invalid</span>

                                <div class="input-group mt-4 place-content-center">
                                    <div class="form-floating">
                                        <input type="text" [options]="{ prefix: '$ '}" currencyMask inputmode="decimal"
                                            placeholder="100" formControlName="receivedAmount" class="form-control"
                                            id="recipientId">
                                        <label for="recipientId">Recipient gets</label>
                                    </div>

                                    <span class="input-group-text bg-primary text-white">
                                        <img class="pe-2" height="24px" width="41px" src="../assets/icons/usd.webp">
                                        <span id="inputGroup-sizing-lg">USD</span>
                                    </span>
                                </div>
                                <span
                                    *ngIf="conversionForm.controls['receivedAmount'].dirty && conversionForm.controls['receivedAmount'].invalid"
                                    class="text-danger">Your input is invalid</span>


                                <div class="mt-3" *ngIf="expired$ | async">
                                    <div class="alert alert-warning" role="alert">
                                        Quotation expired
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
